import{$ as E,A as _e,Aa as ne,Ba as oe,C as fe,Ca as G,D as ye,Da as U,Ea as ke,F as K,Fa as De,G as Se,Ga as Te,H as ge,Ha as Ee,Ia as Ae,Ja as Be,M as v,N as y,Na as je,O as Oe,P as Pe,Q,R as Me,S as we,W as ee,X as g,Y as k,Z as D,_ as T,a as xe,aa as A,b as Y,ba as B,c as de,d as $,da as Ne,e as X,ea as Fe,f as _,g as o,ga as te,h as d,ha as Ie,i as x,j as J,ja as F,k as c,ka as S,l as a,m as ve,ma as j,n as i,na as H,o as r,p as s,pa as R,qa as L,ra as V,s as Z,t as b,u,ua as O,v as m,va as P,wa as M,x as l,y as f,z as q,za as w}from"./chunk-X7NDSUYR.js";var N="http://localhost:8080",C=class n{constructor(t,e){this.http=t;this.storageService=e}postCar(t){return this.http.post(N+"/api/admin/car",t,{headers:this.createAuthorizationHeader()})}searchCar(t){return this.http.post(N+"/api/admin/car/search",t,{headers:this.createAuthorizationHeader()})}deleteCar(t){return this.http.delete(N+"/api/admin/car/"+t,{headers:this.createAuthorizationHeader()})}getAllCars(){return this.http.get(N+"/api/admin/cars",{headers:this.createAuthorizationHeader()})}getCarBookings(){return this.http.get(N+"/api/admin/car/bookings",{headers:this.createAuthorizationHeader()})}getCarbyId(t){return this.http.get(N+"/api/admin/car/"+t,{headers:this.createAuthorizationHeader()})}updateCar(t,e){return this.http.put(N+"/api/admin/car/"+t,e,{headers:this.createAuthorizationHeader()})}changeBookingStatus(t,e){return this.http.get(`${N}/api/admin/car/booking/${t}/${e}`,{headers:this.createAuthorizationHeader()})}createAuthorizationHeader(){return new Me().set("Authorization","Bearer "+ne.getToken())}static \u0275fac=function(e){return new(e||n)(de(we),de(ne))};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xe=n=>["/admin/car",n];function qe(n,t){if(n&1){let e=Z();i(0,"div",1)(1,"div",2),s(2,"img",3),r(),i(3,"div",4)(4,"h2",5),l(5),r(),i(6,"p",6),l(7),r(),i(8,"div",7)(9,"span"),l(10,"Price: "),i(11,"b"),l(12),r()(),i(13,"span"),l(14,"Color: "),i(15,"b"),l(16),r()(),i(17,"span"),l(18,"Transmission: "),i(19,"b"),l(20),r()(),i(21,"span"),l(22,"Type: "),i(23,"b"),l(24),r()(),i(25,"span"),l(26,"Year: "),i(27,"b"),l(28),r()()(),i(29,"div",8)(30,"button",9),l(31,"Update"),r(),i(32,"button",10),b("click",function(){let z=$(e).$implicit,h=u();return X(h.deleteCar(z.id))}),l(33,"Delete"),r()()()()}if(n&2){let e=t.$implicit;o(2),a("src",e.processedImg||"default-placeholder.jpg",_),o(3),_e(" ",e.brand," ",e.name," "),o(2),q(" ",e.description||"No description available"," "),o(5),q("$",e.price,""),o(4),f(e.color),o(4),f(e.transmission),o(4),f(e.type),o(4),f(e.year),o(2),a("routerLink",ye(10,Xe,e.id))}}var ie=class n{constructor(t,e){this.adminService=t;this.message=e}cars=[];ngOnInit(){this.getAllCars()}getAllCars(){this.adminService.getAllCars().subscribe(t=>{console.log(t),t.forEach(e=>{e.processedImg=`data:image/jpeg;base64,${e.returnedImage}`,this.cars.push(e),console.log("Car Data:",e)})})}deleteCar(t){this.adminService.deleteCar(t).subscribe(e=>{console.log("Car deleted successfully:",e),this.cars=this.cars.filter(p=>p.id!==t)},e=>{console.error("Error deleting car:",e)})}static \u0275fac=function(e){return new(e||n)(d(C),d(w))};static \u0275cmp=x({type:n,selectors:[["app-admin-dashboard"]],decls:1,vars:1,consts:[["class","car-card",4,"ngFor","ngForOf"],[1,"car-card"],[1,"car-image"],["alt","profile",3,"src"],[1,"car-details"],[1,"car-title"],[1,"car-description"],[1,"car-info"],[2,"float","right"],["nzSize","small","nz-button","","nzType","primary",2,"margin-left","10px",3,"routerLink"],["nzSize","small","nz-button","","nzType","primary","nzDanger","",2,"margin-left","10px",3,"click"]],template:function(e,p){e&1&&c(0,qe,34,12,"div",0),e&2&&a("ngForOf",p.cars)},dependencies:[Q,v,F,Ie],styles:['body[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.car-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:20px;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:20px;margin:20px auto;max-width:800px;transition:transform .2s,box-shadow .2s}.car-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #00000026}.car-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px;object-fit:cover}.car-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.car-details[_ngcontent-%COMP%]   .car-title[_ngcontent-%COMP%]{color:#333;font-size:24px;margin-bottom:10px;transition:color .2s;cursor:pointer}.car-details[_ngcontent-%COMP%]   .car-title[_ngcontent-%COMP%]:hover{color:#0056b3;text-decoration:underline}.car-details[_ngcontent-%COMP%]   .car-description[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:15px}.car-details[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;font-size:14px;color:#555}.car-details[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1 1 45%}.car-details[_ngcontent-%COMP%]   div[style*="float: right;"][_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end}@media (max-width: 768px){.car-details[_ngcontent-%COMP%]   div[style*="float: right;"][_ngcontent-%COMP%]{justify-content:center;margin-top:10px}}button[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;padding:10px 20px;font-size:14px;border:none;border-radius:5px;cursor:pointer;transition:all .3s ease;outline:none}button[nzType=primary][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}button[nzType=primary][_ngcontent-%COMP%]:hover{background-color:#0056b3;box-shadow:0 4px 10px #007bff33}button[nzDanger][_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}button[nzDanger][_ngcontent-%COMP%]:hover{background-color:#c82333;box-shadow:0 4px 10px #dc354533}']})};var Re=()=>({maxHeight:"200px",overflow:"auto"});function Ye(n,t){if(n&1&&(i(0,"label",20),s(1,"img",21),r()),n&2){let e=u();o(),a("src",e.imagePreview,_)}}function Je(n,t){if(n&1&&s(0,"nz-option",22),n&2){let e=t.$implicit;a("nzLabel",e)("nzValue",e)}}function Ze(n,t){if(n&1&&s(0,"nz-option",22),n&2){let e=t.$implicit;a("nzLabel",e)("nzValue",e)}}function Ke(n,t){if(n&1&&s(0,"nz-option",22),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}function Qe(n,t){if(n&1&&s(0,"nz-option",22),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}var pe=class n{constructor(t,e,p,z){this.fb=t;this.adminService=e;this.message=p;this.router=z}postCarForm;isSpinning=!1;selectedFile=null;imagePreview=null;listOfOption=[];listOfBrands=["Toyota","Honda","BMW","Mercedes","Audi","Lexus"];listOfType=["Sports Car","Diesel","Crossover","Luxury Car"];listOfColor=["Red","Blue","Brown","Green"];listOfTransmission=["Manual","Automatic"];ngOnInit(){this.postCarForm=this.fb.group({name:[null,g.required],brand:[null,g.required],type:[null,g.required],color:[null,g.required],transmission:[null,g.required],price:[null,g.required],description:[null,g.required],year:[null,g.required]})}postCar(){console.log(this.postCarForm.value),this.isSpinning=!0;let t=new FormData;t.append("image",this.selectedFile),t.append("brand",this.postCarForm.value.brand),t.append("name",this.postCarForm.value.name),t.append("type",this.postCarForm.value.type),t.append("color",this.postCarForm.value.color),t.append("year",this.postCarForm.value.year),t.append("transmission",this.postCarForm.value.transmission),t.append("description",this.postCarForm.value.description),t.append("price",this.postCarForm.value.price),console.log(t),this.adminService.postCar(t).subscribe(e=>{this.isSpinning=!1,this.message.success("Car posted successfully",{nzDuration:5e3}),this.router.navigateByUrl("/admin/dashboard"),console.log(e)},e=>{this.isSpinning=!1,this.message.error("Error while posting car",{nzDuration:5e3})})}onFileSelected(t){let e=t.target;this.selectedFile=e.files[0],this.previewImage()}previewImage(){let t=new FileReader;t.onload=()=>{this.imagePreview=t.result},t.readAsDataURL(this.selectedFile)}static \u0275fac=function(e){return new(e||n)(d(B),d(C),d(w),d(te))};static \u0275cmp=x({type:n,selectors:[["app-post-car"]],standalone:!1,decls:48,vars:25,consts:[[2,"margin-top","50px","padding","40px"],["nzTip","Working...",3,"nzSpinning","nzSize"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-bold","text-gray-800","mb-4","text-center"],["nz-form","",3,"formGroup"],[1,"pb-6"],[1,"profile-badge"],["for","upload_profile_image","class","upload-label",4,"ngIf"],["type","file","nz-button","","nzType","primary","id","upload_profile_image","accept","image/*",3,"change"],["nzHasFeedback","","nzErrorTip","This Input Is Required",3,"nzXs"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Brand Name","formControlName","brand",3,"nzDropdownClassName"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-input","","placeholder","Name","formControlName","name"],["formControlName","type","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Type","nzSuffixIcon","down",3,"nzDropdownClassName"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Transmission","formControlName","transmission",3,"nzDropdownStyle","nzDropdownClassName"],["formControlName","color","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Color",3,"nzDropdownStyle","nzDropdownClassName"],["formControlName","year","nz-input","","placeholder","Model Year"],["formControlName","price","nz-input","","placeholder","Price"],["formControlName","description","rows","1","nz-input","","placeholder","Description"],["nz-button","",1,"login-form-button","login-form-margin",3,"click","nzType"],["for","upload_profile_image",1,"upload-label"],["alt","profile",1,"profile",3,"src"],[3,"nzLabel","nzValue"]],template:function(e,p){e&1&&(i(0,"div",0)(1,"nz-spin",1)(2,"div",2)(3,"h1",3),l(4,"Post Car"),r(),i(5,"form",4)(6,"div",5)(7,"div",6),c(8,Ye,2,1,"label",7),i(9,"input",8),b("change",function(h){return p.onFileSelected(h)}),r()()(),i(10,"div")(11,"nz-form-item")(12,"nz-form-control",9)(13,"nz-select",10),c(14,Je,1,2,"nz-option",11),r()()()(),i(15,"div")(16,"nz-form-item")(17,"nz-form-control",9),s(18,"input",12),r()()(),i(19,"div")(20,"nz-form-item")(21,"nz-form-control",9)(22,"nz-select",13),c(23,Ze,1,2,"nz-option",11),r()()()(),i(24,"div")(25,"nz-form-item")(26,"nz-form-control",9)(27,"nz-select",14),c(28,Ke,1,2,"nz-option",11),r()()()(),i(29,"div")(30,"nz-form-item")(31,"nz-form-control",9)(32,"nz-select",15),c(33,Qe,1,2,"nz-option",11),r()()()(),i(34,"div")(35,"nz-form-item")(36,"nz-form-control",9),s(37,"input",16),r()()(),i(38,"div")(39,"nz-form-item")(40,"nz-form-control",9),s(41,"input",17),r()()(),i(42,"div")(43,"nz-form-item")(44,"nz-form-control",9),s(45,"textarea",18),r()()(),i(46,"button",19),b("click",function(){return p.postCar()}),l(47," Post Car "),r()()()()()),e&2&&(o(),a("nzSpinning",p.isSpinning)("nzSize","large"),o(4),a("formGroup",p.postCarForm),o(3),a("ngIf",p.selectedFile),o(4),a("nzXs",24),o(),a("nzDropdownClassName","custom-dropdown"),o(),a("ngForOf",p.listOfBrands),o(3),a("nzXs",24),o(4),a("nzXs",24),o(),a("nzDropdownClassName","custom-dropdown"),o(),a("ngForOf",p.listOfType),o(3),a("nzXs",24),o(),a("nzDropdownStyle",fe(23,Re))("nzDropdownClassName",".custom-dropdown"),o(),a("ngForOf",p.listOfTransmission),o(3),a("nzXs",24),o(),a("nzDropdownStyle",fe(24,Re))("nzDropdownClassName","custom-dropdown"),o(),a("ngForOf",p.listOfColor),o(3),a("nzXs",24),o(4),a("nzXs",24),o(4),a("nzXs",24),o(2),a("nzType","primary"))},dependencies:[v,y,S,H,j,L,R,V,M,O,P,oe,G,U,T,ee,k,D,E,A],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;background-color:#f4f7fa;font-family:Inter,sans-serif}div[style*=margin-top][_ngcontent-%COMP%]{background-color:#fff;padding:30px 40px;border-radius:12px;box-shadow:0 6px 12px #0000001a;max-width:500px;width:100%;margin:auto;position:relative;transition:all .3s ease-in-out}div[style*=margin-top][_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #00000026}h1[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:600;color:#1f2937;margin-bottom:24px}input[nz-input][_ngcontent-%COMP%], textarea[nz-input][_ngcontent-%COMP%], nz-select[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:18px;padding:10px 14px;background-color:#f9fafb;border-radius:8px;border:1px solid #e5e7eb;font-size:16px;color:#374151;transition:border-color .3s,box-shadow .3s;box-shadow:0 2px 4px #0000000d;position:relative;z-index:10}input[nz-input][_ngcontent-%COMP%]:focus, textarea[nz-input][_ngcontent-%COMP%]:focus, nz-select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f633}.ant-select[_ngcontent-%COMP%]{position:relative;width:100%;z-index:10}.ant-select-selector[_ngcontent-%COMP%]{padding:10px 14px!important;background-color:#f9fafb;border-radius:8px;border:1px solid #ebe9e5;outline:red;box-shadow:0 2px 4px #0000000d}.custom-dropdown[_ngcontent-%COMP%]{position:absolute!important;top:100%;left:0;width:100%;max-height:300px;overflow-y:auto;background-color:#fff;box-shadow:0 4px 12px #0003;border-radius:8px;z-index:9999}.ant-select-item[_ngcontent-%COMP%]{padding:12px 16px;font-size:16px;color:#374151;transition:background-color .3s ease}.ant-select-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;cursor:pointer}.ant-select-item-option-selected[_ngcontent-%COMP%]{background-color:#e0f2fe;font-weight:600}.ant-select-dropdown[_ngcontent-%COMP%]{overflow:hidden!important;max-height:inherit!important}.ant-select-dropdown-placement-bottomLeft[_ngcontent-%COMP%]{top:calc(100% + 4px)!important}.ant-select-item-option-content[_ngcontent-%COMP%]{white-space:nowrap!important}button[nz-button][_ngcontent-%COMP%]{width:100%;padding:12px 0;background-color:#3b82f6;color:#fff;font-size:16px;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:background-color .3s,box-shadow .3s}button[nz-button][_ngcontent-%COMP%]:hover{background-color:#2563eb;box-shadow:0 4px 12px #2563eb4d}.profile-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:24px}.profile[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid #3b82f6;transition:transform .3s ease-in-out}.profile[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function et(n,t){if(n&1&&(i(0,"div",20)(1,"div",20),s(2,"img",21),r()()),n&2){let e=u();o(2),a("src",e.imagePreview,_)}}function tt(n,t){if(n&1&&(i(0,"div",20)(1,"div",20),s(2,"img",22),r()()),n&2){let e=u();o(2),a("src",e.existingImage,_)}}function nt(n,t){if(n&1&&s(0,"nz-option",23),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}function ot(n,t){if(n&1&&s(0,"nz-option",23),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}function it(n,t){if(n&1&&s(0,"nz-option",23),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}function rt(n,t){if(n&1&&s(0,"nz-option",23),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}var le=class n{constructor(t,e,p,z,h){this.adminService=t;this.activatedRoute=e;this.fb=p;this.message=z;this.router=h}isSpinning=!1;carId;imgChanged=!1;selectedFile=null;imagePreview=null;existingImage=null;updateForm;listOfOption=[];listOfBrands=["Toyota","Honda","BMW","Mercedes","Audi","Lexus"];listOfType=["Sports Car","Diesel","Crossover","Luxury Car"];listOfColor=["Red","Blue","Brown","Green"];listOfTransmission=["Manual","Automatic"];ngOnInit(){this.updateForm=this.fb.group({name:[null,g.required],brand:[null,g.required],type:[null,g.required],color:[null,g.required],transmission:[null,g.required],price:[null,g.required],description:[null,g.required],year:[null,g.required]}),this.carId=this.activatedRoute.snapshot.params.id,this.getCarById()}getCarById(){this.isSpinning=!0,this.adminService.getCarbyId(this.carId).subscribe(t=>{this.isSpinning=!1;let e=t;this.existingImage=`data:image/jpeg;base64,${e.returnedImage}`,console.log(e),console.log(this.existingImage),this.updateForm.patchValue(e)})}updateCar(){this.isSpinning=!0;let t=new FormData;this.imgChanged&&this.selectedFile&&t.append("image",this.selectedFile),t.append("brand",this.updateForm.value.brand),t.append("name",this.updateForm.value.name),t.append("type",this.updateForm.value.type),t.append("color",this.updateForm.value.color),t.append("year",this.updateForm.value.year),t.append("transmission",this.updateForm.value.transmission),t.append("description",this.updateForm.value.description),t.append("price",this.updateForm.value.price),this.adminService.updateCar(this.carId,t).subscribe(e=>{this.message.success("Car updated successfully",{nzDuration:3e3}),this.isSpinning=!1,this.router.navigateByUrl("/admin/dashboard")},e=>{this.message.error("Error updating car",{nzDuration:3e3}),console.log(e)})}onFileSelected(t){this.selectedFile=t.target.files[0],this.imgChanged=!0,this.existingImage=null,this.previewImage()}previewImage(){let t=new FileReader;t.onload=()=>{this.imagePreview=t.result},t.readAsDataURL(this.selectedFile)}static \u0275fac=function(e){return new(e||n)(d(C),d(Fe),d(B),d(w),d(te))};static \u0275cmp=x({type:n,selectors:[["app-update-car"]],standalone:!1,decls:52,vars:18,consts:[[2,"margin-top","50px","padding","40px"],["nzTip","Working...",3,"nzSpinning","nzSize"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-bold","text-gray-800","mb-4","text-center"],["nz-form","",3,"formGroup"],[1,"pb-6"],[1,"file-upload-container"],["type","file","nz-button","","nzType","primary","accept","image/*",3,"change"],["class","profile-badge",4,"ngIf"],["nzHasFeedback","","nzErrorTip","This Input Is Required",3,"nzXs"],["formControlName","brand","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Brand"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-input","","placeholder","Name","formControlName","name"],["formControlName","type","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Type"],["formControlName","transmission","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Transmission"],["formControlName","color","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Color"],["formControlName","year","nz-input","","placeholder","Model Year"],["formControlName","price","nz-input","","placeholder","Price"],["formControlName","description","rows","1","nz-input","","placeholder","Description"],["nz-button","",1,"login-form-button","login-form-margin",3,"click","nzType"],[1,"profile-badge"],["alt","imagePreview",1,"profile",3,"src"],["alt","existingImage",1,"profile",3,"src"],[3,"nzLabel","nzValue"]],template:function(e,p){e&1&&(i(0,"div",0)(1,"nz-spin",1)(2,"div",2)(3,"h1",3),l(4,"Update Car"),r(),i(5,"form",4)(6,"div",5)(7,"div",6)(8,"label")(9,"span"),l(10,"Select a file"),r(),i(11,"input",7),b("change",function(h){return p.onFileSelected(h)}),r()(),c(12,et,3,1,"div",8)(13,tt,3,1,"div",8),r()(),i(14,"div")(15,"nz-form-item")(16,"nz-form-control",9)(17,"nz-select",10),c(18,nt,1,2,"nz-option",11),r()()()(),i(19,"div")(20,"nz-form-item")(21,"nz-form-control",9),s(22,"input",12),r()()(),i(23,"div")(24,"nz-form-item")(25,"nz-form-control",9)(26,"nz-select",13),c(27,ot,1,2,"nz-option",11),r()()()(),i(28,"div")(29,"nz-form-item")(30,"nz-form-control",9)(31,"nz-select",14),c(32,it,1,2,"nz-option",11),r()()()(),i(33,"div")(34,"nz-form-item")(35,"nz-form-control",9)(36,"nz-select",15),c(37,rt,1,2,"nz-option",11),r()()()(),i(38,"div")(39,"nz-form-item")(40,"nz-form-control",9),s(41,"input",16),r()()(),i(42,"div")(43,"nz-form-item")(44,"nz-form-control",9),s(45,"input",17),r()()(),i(46,"div")(47,"nz-form-item")(48,"nz-form-control",9),s(49,"textarea",18),r()()(),i(50,"button",19),b("click",function(){return p.updateCar()}),l(51," Update "),r()()()()()),e&2&&(o(),a("nzSpinning",p.isSpinning)("nzSize","large"),o(4),a("formGroup",p.updateForm),o(7),a("ngIf",p.imagePreview),o(),a("ngIf",p.existingImage),o(3),a("nzXs",24),o(2),a("ngForOf",p.listOfBrands),o(3),a("nzXs",24),o(4),a("nzXs",24),o(2),a("ngForOf",p.listOfType),o(3),a("nzXs",24),o(2),a("ngForOf",p.listOfTransmission),o(3),a("nzXs",24),o(2),a("ngForOf",p.listOfColor),o(3),a("nzXs",24),o(4),a("nzXs",24),o(4),a("nzXs",24),o(2),a("nzType","primary"))},dependencies:[v,y,S,H,j,L,R,V,M,O,P,oe,G,U,T,ee,k,D,E,A],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;background-color:#f4f7fa;font-family:Inter,sans-serif}div[style*=margin-top][_ngcontent-%COMP%]{background-color:#fff;padding:30px 40px;border-radius:12px;box-shadow:0 6px 12px #0000001a;max-width:500px;width:100%;margin:auto;position:relative;transition:all .3s ease-in-out}div[style*=margin-top][_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #00000026}h1[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:600;color:#1f2937;margin-bottom:24px}input[nz-input][_ngcontent-%COMP%], textarea[nz-input][_ngcontent-%COMP%], nz-select[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:18px;padding:10px 14px;background-color:#f9fafb;border-radius:8px;border:1px solid #e5e7eb;font-size:16px;color:#374151;transition:border-color .3s,box-shadow .3s;box-shadow:0 2px 4px #0000000d;position:relative;z-index:10}input[nz-input][_ngcontent-%COMP%]:focus, textarea[nz-input][_ngcontent-%COMP%]:focus, nz-select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 4px #3b82f633}.ant-select[_ngcontent-%COMP%]{position:relative;width:100%;z-index:10}.ant-select-selector[_ngcontent-%COMP%]{padding:10px 14px!important;background-color:#f9fafb;border-radius:8px;border:1px solid #ebe9e5;outline:red;box-shadow:0 2px 4px #0000000d}.custom-dropdown[_ngcontent-%COMP%]{position:absolute!important;top:100%;left:0;width:100%;max-height:300px;overflow-y:auto;background-color:#fff;box-shadow:0 4px 12px #0003;border-radius:8px;z-index:9999}.ant-select-item[_ngcontent-%COMP%]{padding:12px 16px;font-size:16px;color:#374151;transition:background-color .3s ease}.ant-select-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;cursor:pointer}.ant-select-item-option-selected[_ngcontent-%COMP%]{background-color:#e0f2fe;font-weight:600}.ant-select-dropdown[_ngcontent-%COMP%]{overflow:hidden!important;max-height:inherit!important}.ant-select-dropdown-placement-bottomLeft[_ngcontent-%COMP%]{top:calc(100% + 4px)!important}.ant-select-item-option-content[_ngcontent-%COMP%]{white-space:nowrap!important}button[nz-button][_ngcontent-%COMP%]{width:100%;padding:12px 0;background-color:#3b82f6;color:#fff;font-size:16px;font-weight:600;border-radius:8px;border:none;cursor:pointer;transition:background-color .3s,box-shadow .3s}button[nz-button][_ngcontent-%COMP%]:hover{background-color:#2563eb;box-shadow:0 4px 12px #2563eb4d}.profile-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:24px}.profile[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid #3b82f6;transition:transform .3s ease-in-out}.profile[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function at(n,t){if(n&1){let e=Z();i(0,"span")(1,"button",7),b("click",function(){$(e);let z=u().$implicit,h=u();return X(h.changeBookingStatus(z.id,"Approve"))}),l(2," Approve "),r(),i(3,"button",8),b("click",function(){$(e);let z=u().$implicit,h=u();return X(h.changeBookingStatus(z.id,"Reject"))}),l(4," Reject "),r()()}}function pt(n,t){if(n&1&&(i(0,"tr")(1,"td"),l(2),r(),i(3,"td"),l(4),r(),i(5,"td"),l(6),K(7,"date"),r(),i(8,"td"),l(9),K(10,"date"),r(),i(11,"td"),l(12),r(),i(13,"td"),l(14),K(15,"currency"),r(),i(16,"td")(17,"strong"),l(18),r()(),i(19,"td"),c(20,at,5,0,"span",6),r()()),n&2){let e=t.$implicit;o(2),f(e.username),o(2),f(e.email),o(2),f(ge(7,10,e.fromDate,"MMM d, y")),o(3),f(ge(10,13,e.toDate,"MMM d, y")),o(3),f(e.days),o(2),f(Se(15,16,e.price)),o(3),ve("color",e.bookCarStatus==="APPROVED"?"green":e.bookCarStatus==="REJECTED"?"red":"orange"),o(),q(" ",e.bookCarStatus," "),o(2),a("ngIf",e.bookCarStatus==="PENDING")}}var se=class n{constructor(t,e){this.adminService=t;this.message=e}isSpinning=!1;bookings;ngOnInit(){this.getBookings()}changeBookingStatus(t,e){console.log(t,e),this.adminService.changeBookingStatus(t,e).subscribe(()=>{this.getBookings(),this.message.success("Booking status changed successfully")},p=>{this.message.error("Error changing booking status")})}getBookings(){this.isSpinning=!0,this.adminService.getCarBookings().subscribe(t=>{console.log(t),this.bookings=t,this.isSpinning=!1})}static \u0275fac=function(e){return new(e||n)(d(C),d(w))};static \u0275cmp=x({type:n,selectors:[["app-get-bookings"]],standalone:!1,decls:23,vars:7,consts:[["basicTable",""],["nzTip","Working...",3,"nzSpinning","nzSize"],[3,"nzData","nzBordered","nzSize","nzShowPagination"],[2,"font-weight","bold","color","#003973"],[2,"font-weight","bold","color","#730051"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nz-button","","nzType","primary","nzSize","small",2,"margin-right","8px",3,"click"],["nz-button","","nzType","default","nzDanger","","nzSize","small",3,"click"]],template:function(e,p){e&1&&(i(0,"nz-spin",1)(1,"nz-table",2,0)(3,"thead")(4,"tr")(5,"th",3),l(6,"Username"),r(),i(7,"th",3),l(8,"Email"),r(),i(9,"th",3),l(10,"From"),r(),i(11,"th",3),l(12,"To"),r(),i(13,"th",3),l(14,"Days"),r(),i(15,"th",3),l(16,"Price"),r(),i(17,"th",3),l(18,"Status"),r(),i(19,"th",4),l(20,"Actions"),r()()(),i(21,"tbody"),c(22,pt,21,18,"tr",5),r()()()),e&2&&(a("nzSpinning",p.isSpinning)("nzSize","large"),o(),a("nzData",p.bookings)("nzBordered",!0)("nzSize","middle")("nzShowPagination",!1),o(21),a("ngForOf",p.bookings))},dependencies:[v,y,S,M,O,P,Ee,ke,De,Be,Te,Ae,Pe,Oe],styles:[".nz-spin[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:250px;background-color:#f4f5f7}.nz-table[_ngcontent-%COMP%]{border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a;background-color:#fff;font-family:Roboto,sans-serif}.nz-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(90deg,#003973,#007cb9);color:#fff}.nz-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;text-align:left;padding:12px 16px;font-size:15px;letter-spacing:.5px}.nz-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa}.nz-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#eef4f9;transition:background-color .3s ease}.nz-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;font-size:14px;color:#333}.nz-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:4px solid #007cb9}strong[_ngcontent-%COMP%]{font-size:14px;font-weight:700;display:inline-block;padding:4px 8px;border-radius:4px;text-transform:uppercase}strong[style*=green][_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}strong[style*=red][_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}strong[style*=orange][_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}button[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:4px 12px;border-radius:4px;transition:all .3s ease}button.nz-button-primary[_ngcontent-%COMP%]{background-color:#007cb9;border-color:#007cb9}button.nz-button-primary[_ngcontent-%COMP%]:hover{background-color:#005f8e;border-color:#005f8e}button.nz-button-danger[_ngcontent-%COMP%]{background-color:#f44336;border-color:#f44336}button.nz-button-danger[_ngcontent-%COMP%]:hover{background-color:#d32f2f;border-color:#d32f2f}@media screen and (max-width: 768px){.nz-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.nz-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:16px}.nz-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;font-size:13px}.nz-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;color:#007cb9;flex-basis:40%;margin-right:10px}}"]})};function lt(n,t){if(n&1&&s(0,"nz-option",17),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}function st(n,t){if(n&1&&s(0,"nz-option",17),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}function ct(n,t){if(n&1&&s(0,"nz-option",17),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}function mt(n,t){if(n&1&&s(0,"nz-option",17),n&2){let e=t.$implicit;m("nzLabel",e),m("nzValue",e)}}function dt(n,t){if(n&1&&(i(0,"div",20)(1,"div",21),s(2,"img",22),i(3,"div",23)(4,"h2",24),l(5),r(),i(6,"p",25),l(7),r(),i(8,"p",25),l(9),r(),i(10,"p",25),l(11),r(),i(12,"p",25),l(13),r(),i(14,"p",25),l(15),r()()()()),n&2){let e=t.$implicit;o(2),a("src",e.processedImage,_),o(3),f(e.name),o(2),f(e.brand),o(2),f(e.type),o(2),f(e.transmission),o(2),f(e.color),o(2),f(e.price)}}function ft(n,t){if(n&1&&(i(0,"div",18),c(1,dt,16,7,"div",19),r()),n&2){let e=u();o(),a("ngForOf",e.cars)}}function gt(n,t){n&1&&(i(0,"div",26),l(1," No cars found for the given filters. "),r())}var ce=class n{constructor(t,e){this.fb=t;this.service=e;this.searchCarForm=this.fb.group({brand:[null],type:[null],transmission:[null],color:[null]})}searchCarForm;listOfOption=[];listOfBrands=["Toyota","Honda","BMW","Mercedes","Audi","Lexus"];listOfType=["Sports Car","Diesel","Crossover","Luxury Car"];listOfColor=["Red","Blue","Brown","Green"];listOfTransmission=["Manual","Automatic"];isSpinning=!1;cars;ngOnInit(){this.searchCar()}searchCar(){this.isSpinning=!0,this.cars=[],console.log("Previous search results cleared:",this.cars),this.service.searchCar(this.searchCarForm.value).subscribe(t=>{console.log("Response from API:",t),this.isSpinning=!1;let e=t.carDtoList;e&&e.length>0?(this.cars=e.map(p=>(p.processedImage=`data:image/jpeg;base64,${p.returnedImage}`,p)),console.log("Updated cars array:",this.cars)):(console.log("No cars found for the given filters."),this.cars=[])},t=>{this.isSpinning=!1,console.error("Error occurred while fetching cars:",t)})}static \u0275fac=function(e){return new(e||n)(d(B),d(C))};static \u0275cmp=x({type:n,selectors:[["app-search-car"]],standalone:!1,decls:32,vars:14,consts:[[1,"container"],[1,"form-container"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-bold","text-gray-800","mb-4","text-center"],["nz-form","",3,"ngSubmit","formGroup"],[1,"form-item","mb-4"],["nzHasFeedback","","nzErrorTip","This Input Is Required",3,"nzXs"],["formControlName","brand","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Brand"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["formControlName","type","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Type"],["formControlName","transmission","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Transmission"],["formControlName","color","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Color"],["nz-button","","type","submit",1,"login-form-button","login-form-margin","w-full",3,"nzType"],[1,"car-list-container","mt-8"],["nzTip","Loading cars...",3,"nzSpinning","nzSize"],["class","flex-wrap",4,"ngIf"],["class","text-center text-gray-500",4,"ngIf"],[3,"nzLabel","nzValue"],[1,"flex-wrap"],["class","car-item",4,"ngFor","ngForOf"],[1,"car-item"],[1,"bg-white","shadow-lg","rounded-lg","p-4"],["alt","car",1,"w-full","h-32","object-cover","object-center",3,"src"],[1,"car-details","mt-4"],[1,"text-gray-900","title-font","text-lg","font-medium"],[1,"text-gray-500"],[1,"text-center","text-gray-500"]],template:function(e,p){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),l(4,"Search Car"),r(),i(5,"form",4),b("ngSubmit",function(){return p.searchCar()}),i(6,"div",5)(7,"nz-form-item")(8,"nz-form-control",6)(9,"nz-select",7),c(10,lt,1,2,"nz-option",8),r()()()(),i(11,"div",5)(12,"nz-form-item")(13,"nz-form-control",6)(14,"nz-select",9),c(15,st,1,2,"nz-option",8),r()()()(),i(16,"div",5)(17,"nz-form-item")(18,"nz-form-control",6)(19,"nz-select",10),c(20,ct,1,2,"nz-option",8),r()()()(),i(21,"div",5)(22,"nz-form-item")(23,"nz-form-control",6)(24,"nz-select",11),c(25,mt,1,2,"nz-option",8),r()()()(),i(26,"button",12),l(27,"Search"),r()()()(),i(28,"div",13)(29,"nz-spin",14),c(30,ft,2,1,"div",15)(31,gt,2,0,"div",16),r()()()),e&2&&(o(5),a("formGroup",p.searchCarForm),o(3),a("nzXs",24),o(2),a("ngForOf",p.listOfBrands),o(3),a("nzXs",24),o(2),a("ngForOf",p.listOfType),o(3),a("nzXs",24),o(2),a("ngForOf",p.listOfTransmission),o(3),a("nzXs",24),o(2),a("ngForOf",p.listOfColor),o(),a("nzType","primary"),o(3),a("nzSpinning",p.isSpinning)("nzSize","large"),o(),a("ngIf",!p.isSpinning&&p.cars.length>0),o(),a("ngIf",!p.isSpinning&&p.cars.length===0))},dependencies:[v,y,S,H,j,L,R,V,M,O,P,G,U,T,k,D,E,A],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;background-color:#f9fafb}.form-container[_ngcontent-%COMP%]{margin-top:50px;padding:40px;background-color:#fff;box-shadow:0 4px 20px #0000001a;border-radius:10px;margin-bottom:40px}.form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-align:center;margin-bottom:20px}.form-item[_ngcontent-%COMP%]{margin-bottom:20px}button.login-form-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;width:100%;padding:12px;border-radius:5px;font-size:16px;font-weight:700;transition:background-color .3s ease}button.login-form-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.car-list-container[_ngcontent-%COMP%]{margin-top:30px}.car-list-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#333;text-align:center;margin-bottom:20px}.car-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a;overflow:hidden;margin-bottom:30px;transition:transform .3s ease,box-shadow .3s ease}.car-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 8px 20px #0000001a}.car-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;border-bottom:1px solid #e1e1e1}.car-details[_ngcontent-%COMP%]{padding:20px}.car-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#333;margin-bottom:10px}.car-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-bottom:5px}@media (max-width: 1024px){.car-item[_ngcontent-%COMP%]{width:45%}}@media (max-width: 768px){.car-item[_ngcontent-%COMP%]{width:100%}}.flex-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:space-between}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.items-center[_ngcontent-%COMP%]{align-items:center}nz-select[_ngcontent-%COMP%]{width:100%;border-radius:8px;padding:10px;background-color:#f3f4f6;border:1px solid #d1d5db}nz-select[_ngcontent-%COMP%]:hover{border-color:#4caf50}.nz-error-tip[_ngcontent-%COMP%]{color:red;font-size:.9rem}.nz-spin[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;position:absolute;inset:0;background:#fffc;border-radius:10px;z-index:999}"]})};var ut=[{path:"dashboard",component:ie},{path:"car",component:pe},{path:"car/:id",component:le},{path:"bookings",component:se},{path:"search",component:ce}],me=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=J({type:n});static \u0275inj=Y({imports:[F.forChild(ut),F]})};var $e=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=J({type:n});static \u0275inj=Y({imports:[Q,me,je,Ne,F]})};export{$e as AdminModule};
